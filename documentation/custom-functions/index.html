<!DOCTYPE html><html class=no-js><head><meta charset="utf-8"><meta name=viewport content="width=device-width,initial-scale=1"><title>Custom Functions | reSTYLE - UI Patterns. For Sass.</title><link href=//www.restylecss.com/styles/default.css rel="stylesheet"><link rel=canonical href="//www.restylecss.com/documentation/custom-functions"><meta property=og:url content="//www.restylecss.com/documentation/custom-functions"><meta property=og:site_name content="reSTYLE"><meta property=og:title content="Custom Functions | reSTYLE"><meta property=og:type content="Custom Functions | reSTYLE"><meta property=og:description content="reSTYLE allows you to author very expressive patterns, but has one major limitation: it doesn’t allow logic. This is starkly different from Sass’ mixins,…"><meta name=description content="reSTYLE allows you to author very expressive patterns, but has one major limitation: it doesn’t allow logic. This is starkly different from Sass’ mixins,…"><link rel=apple-touch-icon sizes=57x57 href="//www.restylecss.com/apple-icon-57x57.png"><link rel=apple-touch-icon sizes=60x60 href="//www.restylecss.com/apple-icon-60x60.png"><link rel=apple-touch-icon sizes=72x72 href="//www.restylecss.com/apple-icon-72x72.png"><link rel=apple-touch-icon sizes=76x76 href="//www.restylecss.com/apple-icon-76x76.png"><link rel=apple-touch-icon sizes=114x114 href="//www.restylecss.com/apple-icon-114x114.png"><link rel=apple-touch-icon sizes=120x120 href="//www.restylecss.com/apple-icon-120x120.png"><link rel=apple-touch-icon sizes=144x144 href="//www.restylecss.com/apple-icon-144x144.png"><link rel=apple-touch-icon sizes=152x152 href="//www.restylecss.com/apple-icon-152x152.png"><link rel=apple-touch-icon sizes=180x180 href="//www.restylecss.com/apple-icon-180x180.png"><link rel=icon type=image/png sizes=192x192 href="//www.restylecss.com/android-icon-192x192.png"><link rel=icon type=image/png sizes=16x16 href="//www.restylecss.com/favicon-16x16.png"><link rel=icon type=image/png sizes=32x32 href="//www.restylecss.com/favicon-32x32.png"><link rel=icon type=image/png sizes=96x96 href="//www.restylecss.com/favicon-96x96.png"><link rel=manifest href="//www.restylecss.com/manifest.json"><meta name=msapplication-TileImage content="//www.restylecss.com/ms-icon-144x144.png"><meta name=theme-color content="#3f3f3f"><meta name=msapplication-TileColor content="#3f3f3f"></head><body id=pageid_documentation_custom-functions><header id=global-header><a class=brand href="//www.restylecss.com/">reSTYLE</a><h1>Custom Functions</h1><nav id=global-nav><ul><li><a href=//www.restylecss.com/documentation title="Read the docs!">Docs</a></li><li><a href=//www.restylecss.com/api target=_blank title="API documentation">API</a></li><li><a href=//www.restylecss.com/github target=_blank title="View the source on GitHub">GitHub</a></li></ul></nav></header><div id=global-container><aside id=global-sidebar><button id=menu-toggle>...</button><div id=global-sidebar-content><h2>Getting Started</h2><a href=//www.restylecss.com/documentation/getting-started>Getting Started</a> <a href=//www.restylecss.com/documentation/configuration>Configuration</a> <a href=//www.restylecss.com/documentation/what-are-ui-patterns>What are UI Patterns?</a> <a href=//www.restylecss.com/documentation/understanding-grammar>Understanding Grammar</a><h2>Defining Patterns</h2><a href=//www.restylecss.com/documentation/defining-ui-patterns>Defining UI Patterns</a> <a href=//www.restylecss.com/documentation/nesting-selectors>Nesting Selectors</a> <a href=//www.restylecss.com/documentation/modifiers>Modifiers</a> <a href=//www.restylecss.com/documentation/states>States</a> <a href=//www.restylecss.com/documentation/property-references>Property References</a> <a href=//www.restylecss.com/documentation/restyle-variables>Variables</a> <a href=//www.restylecss.com/documentation/namespaced-keys>Namespaced Keys</a> <a href=//www.restylecss.com/documentation/working-with-multiple-values>Multiple Values</a> <a href=//www.restylecss.com/documentation/custom-functions class=active>Custom Functions</a><h2>Integration</h2><a href=//www.restylecss.com/documentation/noconflict>No Conflict Mode</a> <a href=//www.restylecss.com/documentation/smart-content>Smart Content</a> <a href=//www.restylecss.com/documentation/debugging>Debugging</a></div></aside><main id=global-main><div id=global-content><h2 id=introduction>Introduction</h2><p>reSTYLE allows you to author very expressive patterns, but has one major limitation: it doesn’t allow logic. This is starkly different from Sass’ mixins, which encourage logic throughout your code.</p><p>reSTYLE leverages conventions to intuitively build up UI patterns, but there are times when you may still need some logic, and that’s where reSTYLE custom functions come in.</p><h2 id=-restyle-function-><code>restyle-function</code></h2><p>The special <code>restyle-function</code> directive allows us to define special blocks of code within a UI pattern definition that will be executed as a function upon invocation.</p><p>Here’s a quick example:</p><pre><code class=lang-scss><span class=hljs-at_rule>@import</span> <span class=hljs-string>"restyle"</span>;

<span class=hljs-variable>@function</span> <span class=hljs-function>my-background</span>($value) {
  <span class=hljs-variable>@return</span> (
    <span class=hljs-attribute>background</span>: transparent <span class=hljs-function>url</span>(<span class=hljs-string>$value</span>);
  )
}

<span class=hljs-variable>@include</span> <span class=hljs-function>restyle-define</span>(example, (
  <span class=hljs-comment>// ...</span>
  <span class=hljs-function>restyle-function</span>(my-background): <span class=hljs-string>'path/to/image.png'</span>
));

<span class=hljs-class>.example</span> {
  <span class=hljs-variable>@include</span> <span class=hljs-function>restyle</span>(example);
}
</code></pre><p>And the output:</p><pre><code class=lang-css><span class=hljs-class>.example</span> <span class=hljs-rules>{
  <span class=hljs-comment>/* ... */</span>
  <span class=hljs-rule><span class=hljs-attribute>background</span>:<span class=hljs-value> transparent <span class=hljs-function>url</span>(path/to/image.png)</span></span>;
}</span>
</code></pre><p>As you see here, we pass the name of our custom function to the <code>restyle-function</code> directive. At invocation time, we then execute <code>my-background</code> function passing it the values on the right-hand side. The custom function then returns a <code>map</code> that is merged back into the styles.</p><h2 id=with-lazy-values>With lazy values</h2><p>Another use case is when you have lazy evaluated values that you need to pass into a function.</p><p>For example, we might want to do something like this:</p><pre><code class=lang-scss><span class=hljs-at_rule>@<span class=hljs-keyword>import</span> <span class=hljs-string>"restyle"</span></span>;

<span class=hljs-at_rule>@<span class=hljs-keyword>include</span> <span class=hljs-function>restyle-define</span>(example, (
  color: black,
  font-color: <span class=hljs-function>invert</span>(<span class=hljs-function>this</span>(color))
))</span>;
</code></pre><p>The problem is that <code>this(color)</code> is lazy and won’t be evaluated at the time that <code>invert()</code> is invoked.</p><p>To work around this, we would use a custom function:</p><pre><code class=lang-scss><span class=hljs-at_rule>@import</span> <span class=hljs-string>"restyle"</span>;

<span class=hljs-variable>@function</span> <span class=hljs-function>font-color-invert</span>($color) {
  <span class=hljs-variable>@return</span> (
    <span class=hljs-attribute>font-color</span>: <span class=hljs-function>invert</span>($color)
  );
}

<span class=hljs-variable>@include</span> <span class=hljs-function>restyle-define</span>(example, (
  <span class=hljs-attribute>color</span>: black,
  <span class=hljs-function>restyle-function</span>(font-color-invert): <span class=hljs-function>this</span>(color)
));
</code></pre><p>This will now work the way we intended.</p><ul class=page-tags><li class=tag><a href=//www.restylecss.com/topics/restyle>restyle</a></li><li class=tag><a href=//www.restylecss.com/topics/function>function</a></li><li class=tag><a href=//www.restylecss.com/topics/special-properties>special properties</a></li></ul></div></main></div><footer id=global-footer><div><p class=copyright><a href=http://engineering.linkedin.com target=_blank><span class=holder>LinkedIn Corporation</span> &copy; <span class=year>2016</span></a></p><p class=badges><a href=https://github.com/eoneill/eyeglass-restyle/fork target=_blank><img src=//img.shields.io/github/forks/eoneill/eyeglass-restyle.svg?style&#x3D;flat-square class=badge alt="Forks on GitHub"></a> <a href="https://github.com/eoneill/eyeglass-restyle/" target=_blank><img src=//img.shields.io/github/stars/eoneill/eyeglass-restyle.svg?style&#x3D;flat-square class=badge alt="Stars on GitHub"></a> <a href=https://github.com/eoneill/eyeglass-restyle/issues target=_blank><img src=//img.shields.io/github/issues-raw/eoneill/eyeglass-restyle.svg?style&#x3D;flat-square class=badge alt="Issues on GitHub"></a> <a href=https://travis-ci.org/eoneill/eyeglass-restyle target=_blank><img src=//img.shields.io/travis/eoneill/eyeglass-restyle.svg?style&#x3D;flat-square class=badge alt="Build Status"></a> <a href=https://www.npmjs.com/package/eyeglass-restyle target=_blank><img src=//img.shields.io/npm/v/eyeglass-restyle.svg?style&#x3D;flat-square class=badge alt="Version"></a> <a href=https://github.com/eoneill/eyeglass-restyle/blob/master/LICENSE target=_blank><img src=//img.shields.io/npm/l/eyeglass-restyle.svg?style&#x3D;flat-square class=badge alt="License"></a></p></div></footer><script src=//www.restylecss.com/scripts/default.js></script></body></html>